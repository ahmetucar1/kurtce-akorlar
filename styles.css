/* Repertûara Kurdî — UI Refresh (background preserved) */

/* =========================
   TOKENS
   ========================= */
:root{
  --bg: transparent; /* background handled by LIVE_BG block below */
  --panel: rgba(255,255,255,.92);
  --panel2: rgba(255,255,255,.80);
  --card: rgba(255,255,255,.70);
  --text: #101426;
  --muted: rgba(16,20,38,.68);
  --line: rgba(16,20,38,.14);
  --shadow: 0 18px 60px rgba(0,0,0,.12);
  --shadow2: 0 10px 30px rgba(0,0,0,.10);
  --radius: 18px;

  --accent: #c97b20;
  --accent2:#1e8a6c;

  --btnBg: rgba(255,255,255,.72);
  --btnBgHover: rgba(255,255,255,.92);
  --btnLine: rgba(16,20,38,.16);

  --glass: rgba(255,255,255,.55);
}

[data-theme="dark"]{
  --panel: rgba(16,20,34,.72);
  --panel2: rgba(16,20,34,.56);
  --card: rgba(255,255,255,.06);
  --text: #eef2ff;
  --muted: rgba(238,242,255,.70);
  --line: rgba(255,255,255,.14);
  --shadow: 0 22px 70px rgba(0,0,0,.45);
  --shadow2: 0 12px 34px rgba(0,0,0,.35);

  --accent:#7c3aed;
  --accent2:#22c55e;

  --btnBg: rgba(255,255,255,.08);
  --btnBgHover: rgba(255,255,255,.12);
  --btnLine: rgba(255,255,255,.16);

  --glass: rgba(14,18,30,.50);
}

/* =========================
   BASE
   ========================= */
*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  color: var(--text);
  line-height: 1.55;
  overflow-x: hidden;
}
a{ color: inherit; }
img{ max-width:100%; display:block; }
.muted{ color: var(--muted); }

.container{
  width: min(1100px, calc(100% - 32px));
  margin: 0 auto;
}

main.container{ padding: 16px 0 76px; }

/* =========================
   TOPBAR (menu)
   - tek satır: logo + başlık + butonlar
   - mobilde de aynı mantık
   ========================= */
.topbar{
  position: sticky;
  top: 0;
  z-index: 50;
  background: color-mix(in srgb, var(--glass) 78%, transparent);
  border-bottom: 1px solid var(--line);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
}

.topbar__inner{
  padding: 10px 0;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
  flex-wrap: nowrap; /* kritik */
}

.brand{
  display:flex;
  align-items:center;
  gap: 12px;
  text-decoration:none;
  min-width: 0;
  flex: 1 1 auto;
}

.logo{
  width: 108px;
  height: 108px;
  flex: 0 0 108px;
  background: transparent;
  border: none;
  border-radius: 0;
  overflow: hidden;
}
.logo img{ width:100%; height:100%; object-fit: contain; }

.brand__title{
  font-weight: 900;
  letter-spacing: -0.04em;
  font-size: 30px;
  line-height: 1.05;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.brand__sub{ display:none; }
.brand__kurd{ display:none; }

.topbar__actions{
  display:flex;
  align-items:center;
  gap: 10px;
  flex: 0 0 auto;
  flex-wrap: nowrap; /* kritik */
}

#themeToggle{ border-radius: 999px; }

/* title taşmasın: butonlar için güvenli alan */
@media (min-width: 641px){
  .brand__title{ max-width: calc(100vw - 420px); }
}
@media (max-width: 640px){
  .brand__title{ max-width: calc(100vw - 230px); font-size: 22px; }
  .logo{ width: 96px; height: 96px; flex-basis: 96px; }
  .topbar__actions{ gap: 8px; }
}
@media (max-width: 390px){
  .logo{ width: 84px; height: 84px; flex-basis: 84px; }
  .brand__title{ font-size: 15px; max-width: calc(100vw - 210px); }
}

/* =========================
   BUTTONS
   ========================= */
.btn{
  appearance:none;
  border: 1px solid var(--btnLine);
  background: var(--btnBg);
  color: var(--text);
  padding: 10px 14px;
  border-radius: 999px;
  cursor:pointer;
  text-decoration:none;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap: 8px;
  font-weight: 750;
  font-size: 14px;
  line-height: 1;
  white-space: nowrap;
  transition: transform .10s ease, background .15s ease, border-color .15s ease, box-shadow .15s ease;
  box-shadow: 0 10px 22px rgba(0,0,0,.08);
}
.btn:hover{ background: var(--btnBgHover); }
.btn:active{ transform: translateY(1px); }
.btn--ghost{ background: transparent; box-shadow:none; }
.btn--lg{ padding: 11px 16px; }

@media (max-width: 640px){
  .btn{ padding: 9px 12px; font-size: 13px; }
  .btn--lg{ padding: 10px 13px; }
}

/* =========================
   HOME TOP
   ========================= */
.homeTop{
  text-align: center;
  max-width: 760px;
  margin: 10px auto 0;
}
.homeTop h1{
  margin: 0 0 10px;
  font-size: 34px;
  letter-spacing: -0.03em;
  line-height: 1.1;
}
.homeTop p{ margin: 0; }

@media (max-width: 640px){
  .homeTop h1{ font-size: 26px; }
}

/* =========================
   SEARCH
   ========================= */
.search{
  margin-top: 14px;
  display:flex;
  align-items:center;
  gap: 10px;
  padding: 12px 14px;
  border-radius: 999px;
  background: var(--panel);
  border: 1px solid var(--line);
  box-shadow: var(--shadow);
}
.search__icon{ opacity: .85; }
.search__input{
  flex:1 1 auto;
  min-width: 0;
  border:0;
  outline:0;
  background: transparent;
  color: var(--text);
  font-size: 15px;
}
.search .btn{ box-shadow:none; }

/* =========================
   HEADERS / SECTIONS
   ========================= */
.resultsHeader{
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  gap: 12px;
  margin-top: 18px;
}
.resultsHeader__title{
  font-size: 20px;
  font-weight: 900;
  letter-spacing: -0.03em;
}
.resultsHeader__right{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; }

/* Select görünümü (artist.html) */
select.btn{
  padding-right: 34px;
}

/* =========================
   LIST / CARDS
   ========================= */
.list{ display:grid; gap: 12px; margin-top: 12px; }

.item{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 14px;
  padding: 16px 16px;
  border-radius: 20px;
  background: var(--panel);
  border: 1px solid var(--line);
  box-shadow: var(--shadow2);
  transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
}
.item:hover{
  transform: translateY(-1px);
  border-color: color-mix(in srgb, var(--accent) 30%, var(--line));
  box-shadow: var(--shadow);
}
.item__left{ min-width:0; }
.item__title{
  font-weight: 900;
  letter-spacing: -0.03em;
  font-size: 17px;
}
.item__sub{
  margin-top: 4px;
  font-size: 13px;
  color: var(--muted);
  overflow:hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.artistLink{
  color: inherit;
  text-decoration: none;
  border-bottom: 1px solid transparent;
}
.artistLink:hover{ border-bottom-color: currentColor; }

.badges{ display:flex; gap: 8px; flex-wrap:wrap; }
.open{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding: 10px 14px;
  border-radius: 999px;
  border: 1px solid color-mix(in srgb, var(--accent) 52%, var(--line));
  background: color-mix(in srgb, var(--accent) 18%, var(--btnBg));
  text-decoration:none;
  font-weight: 900;
}
.open:hover{
  background: color-mix(in srgb, var(--accent) 26%, var(--btnBgHover));
}

.empty{
  padding: 18px;
  border-radius: 20px;
  background: var(--panel2);
  border: 1px dashed var(--line);
  color: var(--muted);
  text-align:center;
}

/* =========================
   HOME GRID / VISUAL CARDS
   ========================= */
.homeGrid{
  margin-top: 20px;
  display:grid;
  grid-template-columns: 1fr;
  gap: 14px;
  align-items:start;
}
.homeMid, .homeSide{ display:grid; gap: 14px; }

.visualCard{
  padding: 18px;
  border-radius: 22px;
  background: var(--panel);
  border: 1px solid var(--line);
  box-shadow: var(--shadow);
}
.visualCard__top{ display:flex; align-items:baseline; justify-content:space-between; gap: 10px; }
.visualCard__title{ font-weight: 950; letter-spacing:-0.03em; }

.visualCard--photo{
  padding:0;
  min-height: 220px;
  position:relative;
  background-size:cover;
  background-position:center;
  overflow:hidden;
}
.visualCard--photo::before{
  content:"";
  position:absolute; inset:0;
  background: linear-gradient(to top, rgba(0,0,0,.55), rgba(0,0,0,.08));
}
[data-theme="light"] .visualCard--photo::before{
  background: linear-gradient(to top, rgba(255,255,255,.80), rgba(255,255,255,.14));
}

.visualCard__overlay{
  position:absolute;
  left:16px; right:16px; bottom:16px;
  padding: 12px 12px;
}
.visualCard__overlayTitle{ font-weight: 950; letter-spacing:-0.02em; }

/* Stats */
.stats{
  display:grid;
  grid-template-columns: repeat(3, minmax(0,1fr));
  gap: 10px;
  margin-top: 12px;
}
.stat{
  padding: 14px;
  border-radius: 18px;
  background: var(--card);
  border: 1px solid var(--line);
  text-align:center;
}
.stat__n{ font-size: 22px; font-weight: 950; letter-spacing:-0.03em; }
.stat__t{ font-size: 12px; color: var(--muted); }

/* =========================
   SONG PAGE
   ========================= */
.songPage{
  display:grid;
  grid-template-columns: 1fr;
  gap: 14px;
  align-items:start;
}

.songWrap{ max-width: 980px; margin: 0 auto; }

#songName{ text-align:center; font-size: 26px; margin-top: 6px; }
#songArtist{ text-align:center; color: var(--muted); }

.imgWrap{
  margin-top: 14px;
  border-radius: 22px;
  overflow:hidden;
  border: 1px solid var(--line);
  background: var(--card);
  box-shadow: var(--shadow);
}
#img{ width:100%; height:auto; display:block; transform-origin: top center; }

.songAside{
  width: 100%;
  padding: 16px;
  border-radius: 22px;
  background: var(--panel);
  border: 1px solid var(--line);
  box-shadow: var(--shadow);
  margin-top: 10px;
}

.youtubeCard{
  margin: 0 0 12px;
  padding: 16px;
  border-radius: 22px;
  background: var(--panel2);
  border: 1px solid var(--line);
  box-shadow: var(--shadow2);
}
.youtubeWrap{
  margin-top: 10px;
  border-radius: 16px;
  overflow: hidden;
  border: 1px solid var(--line);
  background: #000;
}

/* =========================
   FOOTER
   ========================= */
.footer{ margin-top: 18px; }
.footerRow{ gap: 10px; }

/* =========================
   LAYOUT: WIDE SCREENS
   ========================= */
@media (min-width: 820px){
  .homeGrid{ grid-template-columns: 1.15fr .85fr; gap: 16px; margin-top: 28px; }
  .songPage{ grid-template-columns: 1.18fr .82fr; gap: 16px; }
  .homeTop h1{ font-size: 42px; }
}

/* =========================
   ACCESSIBILITY
   ========================= */
@media (prefers-reduced-motion: reduce){
  .item, .btn{ transition:none !important; }
}

/* ===================================================================
   LIVE BACKGROUND (unchanged)
   =================================================================== */
/* LIVE_BG_START */
/* PRO_BG_START */
.bgScene{
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  overflow: hidden;
}

#bgCanvas{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  opacity:.95;
}

.bgKilim{
  position:absolute;
  inset:-10%;
  opacity:.16;
  background-image: url("logo.png");
  background-repeat: repeat;
  background-size: 520px auto;
  filter: saturate(1.1) contrast(1.06);
  transform: rotate(-6deg);
  animation: kilimDrift 14s ease-in-out infinite;
  mix-blend-mode: multiply;
}

@keyframes kilimDrift{
  0%{ transform: translate3d(-3%, -2%, 0) rotate(-6deg); }
  50%{ transform: translate3d(3%, 2%, 0) rotate(-6deg); }
  100%{ transform: translate3d(-3%, -2%, 0) rotate(-6deg); }
}

.bgInstrument{
  position:absolute;
  opacity:.24;
  filter: drop-shadow(0 18px 38px rgba(0,0,0,.14));
  transform: translate3d(0,0,0);
  will-change: transform;
  mix-blend-mode: multiply;
}

.bgInstrument--ud{
  width: min(760px, 82vw);
  left: -8%;
  top: 8%;
}

.bgInstrument--davul{
  width: min(560px, 60vw);
  right: -10%;
  bottom: -12%;
  opacity:.20;
}


/* Grain/vignette/notes sahnenin parçası */
.bgGrain, .bgVignette, .bgNotes{
  z-index: 1 !important;
}

/* Notes daha görünür + daha büyük */
.bgNote{ opacity:.30; font-size: 22px; }
/* PRO_BG_END */

/* =========================
   LIVE BACKGROUND (no video)
   Kurdish + Music vibe
   ========================= */

/* Logo: kart yok, abartı boyut */





/* Üst bar alt çizgi kapalı (logo öne çıksın) */

/* Mobilde taşmasın */



/* ---- Background layers ---- */
body{
  position: relative;
  overflow-x: hidden;
}

/* Aurora + dokuma + wave katmanları */
body::before,
body::after{
  content:"";
  position: fixed;
  inset:-20vmax;
  z-index:-3;
  pointer-events:none;
}

body::before{
  background:
    radial-gradient(60vmax 45vmax at 20% 20%, rgba(124,58,237,.22), transparent 60%),
    radial-gradient(55vmax 45vmax at 80% 30%, rgba(34,197,94,.16), transparent 62%),
    radial-gradient(70vmax 55vmax at 55% 85%, rgba(56,189,248,.10), transparent 65%),
    radial-gradient(70vmax 70vmax at 10% 90%, rgba(244,114,182,.07), transparent 68%),
    linear-gradient(180deg, rgba(7,10,16,1), rgba(11,18,32,1));
  filter: blur(18px) saturate(1.15);
  transform: translate3d(0,0,0);
  animation: auroraDrift 18s ease-in-out infinite alternate;
  opacity: .95;
}

@keyframes auroraDrift{
  0%   { transform: translate3d(-1.8vmax,-1.2vmax,0) scale(1.02); }
  50%  { transform: translate3d( 1.2vmax, 1.6vmax,0) scale(1.05); }
  100% { transform: translate3d(-1.0vmax, 1.0vmax,0) scale(1.03); }
}

body::after{
  background:
    /* Soundwave: ince çizgiler */
    repeating-linear-gradient(
      90deg,
      rgba(255,255,255,.05) 0px,
      rgba(255,255,255,.05) 1px,
      transparent 1px,
      transparent 26px
    ),
    /* Dokuma (SVG data URI) */
    url("data:image/svg+xml,%3Csvg%20xmlns=%22http:%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width=%22220%22%20height=%22220%22%20viewBox=%220%200%20220%20220%22%3E%0A%3Cdefs%3E%0A%3Cpattern%20id=%22p%22%20width=%2222%22%20height=%2222%22%20patternUnits=%22userSpaceOnUse%22%3E%0A%3Cpath%20d=%22M0%2011h22%22%20stroke=%22#ffffff%22%20stroke-opacity=%22.06%22%20stroke-width=%221%22%2F%3E%0A%3Cpath%20d=%22M11%200v22%22%20stroke=%22#ffffff%22%20stroke-opacity=%22.05%22%20stroke-width=%221%22%2F%3E%0A%3Cpath%20d=%22M0%200l22%2022%22%20stroke=%22#ffffff%22%20stroke-opacity=%22.03%22%20stroke-width=%221%22%2F%3E%0A%3C%2Fpattern%3E%0A%3C%2Fdefs%3E%0A%3Crect%20width=%22220%22%20height=%22220%22%20fill=%22url(#p)%22%2F%3E%0A%3C%2Fsvg%3E");
  background-size: 260px 260px, 220px 220px;
  mix-blend-mode: overlay;
  opacity: .55;
  transform: translate3d(0,0,0);
  animation: waveSlide 9s linear infinite;
}

@keyframes waveSlide{
  from { background-position: 0 0, 0 0; }
  to   { background-position: 260px 0, 0 0; }
}

/* Film grain */
.bgGrain{
  position: fixed;
  inset: 0;
  z-index: 1;
  pointer-events: none;
  opacity: .08;
  background-image: url("data:image/svg+xml,%3Csvg%20xmlns=%22http:%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width=%22220%22%20height=%22220%22%20viewBox=%220%200%20220%20220%22%3E%0A%3Cdefs%3E%0A%3Cpattern%20id=%22p%22%20width=%2222%22%20height=%2222%22%20patternUnits=%22userSpaceOnUse%22%3E%0A%3Cpath%20d=%22M0%2011h22%22%20stroke=%22#ffffff%22%20stroke-opacity=%22.06%22%20stroke-width=%221%22%2F%3E%0A%3Cpath%20d=%22M11%200v22%22%20stroke=%22#ffffff%22%20stroke-opacity=%22.05%22%20stroke-width=%221%22%2F%3E%0A%3Cpath%20d=%22M0%200l22%2022%22%20stroke=%22#ffffff%22%20stroke-opacity=%22.03%22%20stroke-width=%221%22%2F%3E%0A%3C%2Fpattern%3E%0A%3C%2Fdefs%3E%0A%3Crect%20width=%22220%22%20height=%22220%22%20fill=%22url(#p)%22%2F%3E%0A%3C%2Fsvg%3E");
  background-size: 180px 180px;
  animation: grainJitter .9s steps(2) infinite;
}

@keyframes grainJitter{
  0%   { transform: translate(0,0); }
  25%  { transform: translate(-1px,1px); }
  50%  { transform: translate(1px,-1px); }
  75%  { transform: translate(1px,1px); }
  100% { transform: translate(0,0); }
}

/* Vignette for readability */
.bgVignette{
  position: fixed;
  inset: 0;
  z-index: 1;
  pointer-events: none;
  background: radial-gradient(1200px 900px at 50% 20%, rgba(0,0,0,.10), rgba(0,0,0,.55));
  opacity: .55;
}

/* Notes layer */
.bgNotes{
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
}

.bgNote{
  position: absolute;
  font-size: 18px;
  opacity: .14;
  filter: drop-shadow(0 8px 14px rgba(0,0,0,.35));
  animation: noteFloat var(--dur, 12s) linear infinite;
  transform: translate3d(0,0,0);
  will-change: transform, opacity;
}

@keyframes noteFloat{
  0%   { transform: translate3d(var(--x, 10vw), 110vh, 0) rotate(var(--r, 0deg)); opacity: 0; }
  10%  { opacity: .16; }
  90%  { opacity: .12; }
  100% { transform: translate3d(calc(var(--x,10vw) + var(--drift, 6vw)), -20vh, 0) rotate(calc(var(--r,0deg) + 35deg)); opacity: 0; }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  body::before, body::after, .bgGrain, .bgNote{ animation: none !important; }
}
/* LIVE_BG_END */

/* İçerik her zaman background'ın üstünde */
body > header,
body > main,
body > .topbar,
.home-page{ position: relative; z-index: 2; }
